1728618565
0090ac72c51895f3f82252f110137bb6-phpdoc%3Aa946ff0161001ed8043587975e5ab401-efa7f7aa2b308e97fa29bb965b4d1b56
s:5784:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjI1OiJjcmVhdGUtcGF5bWVudC1pbnRlbnQucGhwIjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGludGVyZmFjZXMiO2E6MDp7fXM6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAdHJhaXRzIjthOjA6e31zOjQwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGVudW1zIjthOjA6e31zOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6ImVmYTdmN2FhMmIzMDhlOTdmYTI5YmI5NjViNGQxYjU2IjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6NTc6ImNvbXBvbmVudHMvU3RyaXBlL3N0cmlwZS1hc3NldHMvY3JlYXRlLXBheW1lbnQtaW50ZW50LnBocCI7czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBzb3VyY2UiO3M6MzM4NjoiPD9waHAKQHNlc3Npb25fc3RhcnQoKTsKLyoqCiAqIENyZWF0ZSBQYXltZW50IEludGVudC4KICogCiAqIENyZWF0cyBhIFN0cmlwZSBwYXltZW50IGludGVudCBvbiBjaGVja291dC4KICogCiAqIEBzaW5jZSAwLjEuMAogKi8KICAgIC8vIExvYWQgV1AKICAgIHJlcXVpcmVfb25jZSAkX1NFUlZFUlsnRE9DVU1FTlRfUk9PVCddIC4nL3dwLWxvYWQucGhwJzsKICAgIAogICAgLy8gTG9hZCBTdHJpcGUgbGlicmFyeQogICAgYmNfc3RyaXBlX2xpYnJhcnkoKTsKICAgIAogICAgLy8gR2V0IFN0cmlwZSBrZXlzCiAgICAka2V5cyA9IG5ldyBCdWRkeUNsaWVudHNcQ29tcG9uZW50c1xTdHJpcGVcU3RyaXBlS2V5czsKICAgIAogICAgLy8gR2V0IHRoZSByYXcgUE9TVCBkYXRhCiAgICAkcG9zdF9kYXRhID0gZmlsZV9nZXRfY29udGVudHMoJ3BocDovL2lucHV0Jyk7CiAgICAKICAgIC8vIERlY29kZSB0aGUgSlNPTiBkYXRhCiAgICAkcmVxdWVzdF9kYXRhID0ganNvbl9kZWNvZGUoJHBvc3RfZGF0YSwgdHJ1ZSk7CiAgICAKICAgIC8vIEJ1aWxkIFN0cmlwZQogICAgJHN0cmlwZSA9IG5ldyBcU3RyaXBlXFN0cmlwZUNsaWVudCgka2V5cy0+c2VjcmV0KTsKICAgIAogICAgLy8gQ2hlY2sgaWYgdGhlICdib29raW5nSW50ZW50JyBwYXJhbWV0ZXIgZXhpc3RzIGluIHRoZSBkZWNvZGVkIGRhdGEKICAgIGlmIChpc3NldCgkcmVxdWVzdF9kYXRhWydib29raW5nSW50ZW50J10pKSB7CiAgICAgICAgLy8gUmV0cmlldmUgdGhlIHZhbHVlIG9mIHRoZSAnYm9va2luZ0ludGVudCcgcGFyYW1ldGVyCiAgICAgICAgJGJvb2tpbmdfaW50ZW50ID0gJHJlcXVlc3RfZGF0YVsnYm9va2luZ0ludGVudCddOwogICAgICAgIAogICAgICAgIC8vIFJldHJpZXZlIHRoZSB0b3RhbCBmZWUgZnJvbSB0aGUgYm9va2luZyBpbnRlbnQKICAgICAgICAkb3JkZXJfYW1vdW50ID0gJGJvb2tpbmdfaW50ZW50Wyd0b3RhbF9mZWUnXTsKICAgICAgICAKICAgICAgICAvLyBSZXRyaWV2ZSBTdHJpcGUgY3VzdG9tZXIgSUQKICAgICAgICAkY2xpZW50ID0gbmV3IEJ1ZGR5Q2xpZW50c1xJbmNsdWRlc1xDbGllbnQoICRib29raW5nX2ludGVudFsncG9zdCddWyd1c2VyLWlkJ10gKTsKICAgICAgICAkc3RyaXBlX2N1c3RvbWVyX2lkID0gJGNsaWVudC0+Z2V0X2N1c3RvbWVyX2lkKCk7CiAgICAgICAgCiAgICAgICAgaGVhZGVyKCdDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24nKTsKICAgICAgICAKICAgICAgICB0cnkgewogICAgICAgICAgICAvLyBDcmVhdGUgYSBQYXltZW50SW50ZW50IHdpdGggdGhlIGl0ZW1zIGFuZCBjdXJyZW5jeSAoJ3VzZCcpCiAgICAgICAgICAgICRwYXltZW50SW50ZW50UGFyYW1zID0gWwogICAgICAgICAgICAgICAgJ2Ftb3VudCcgPT4gcm91bmQoJG9yZGVyX2Ftb3VudCAqIDEwMCksIC8vIENvbnZlcnQgdGhlIHRvdGFsIGFtb3VudCB0byBjZW50cwogICAgICAgICAgICAgICAgJ2N1cnJlbmN5JyA9PiAndXNkJywKICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbicgPT4gJGJvb2tpbmdfaW50ZW50WydzZXJ2aWNlX25hbWVzJ10sCiAgICAgICAgICAgICAgICAnbWV0YWRhdGEnID0+IFsKICAgICAgICAgICAgICAgICAgICAnSUQnID0+ICRib29raW5nX2ludGVudFsnSUQnXSwKICAgICAgICAgICAgICAgICAgICAnY2xhc3MnID0+ICRib29raW5nX2ludGVudFsnY2xhc3MnXSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAvLyBJbiB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgdGhlIEFQSSwgc3BlY2lmeWluZyB0aGUgYGF1dG9tYXRpY19wYXltZW50X21ldGhvZHNgIHBhcmFtZXRlciBpcyBvcHRpb25hbCBiZWNhdXNlIFN0cmlwZSBlbmFibGVzIGl0cyBmdW5jdGlvbmFsaXR5IGJ5IGRlZmF1bHQuCiAgICAgICAgICAgICAgICAnYXV0b21hdGljX3BheW1lbnRfbWV0aG9kcycgPT4gWwogICAgICAgICAgICAgICAgICAgICdlbmFibGVkJyA9PiB0cnVlLAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBjdXN0b21lciBJRCBpcyBhdmFpbGFibGUKICAgICAgICAgICAgaWYgKCRzdHJpcGVfY3VzdG9tZXJfaWQpIHsKICAgICAgICAgICAgICAgIC8vIEFkZCBjdXN0b21lciBJRCB0byBQYXltZW50SW50ZW50IHBhcmFtZXRlcnMKICAgICAgICAgICAgICAgICRwYXltZW50SW50ZW50UGFyYW1zWydjdXN0b21lciddID0gJHN0cmlwZV9jdXN0b21lcl9pZDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGN1c3RvbWVyIGVtYWlsIGlzIGF2YWlsYWJsZQogICAgICAgICAgICBpZiAoIGlzc2V0KCAkYm9va2luZ19pbnRlbnRbJ2NsaWVudF9lbWFpbCddICkgJiYgJGJvb2tpbmdfaW50ZW50WydjbGllbnRfZW1haWwnXSApIHsKICAgICAgICAgICAgICAgIC8vIEFkZCBjdXN0b21lciBJRCB0byBQYXltZW50SW50ZW50IHBhcmFtZXRlcnMKICAgICAgICAgICAgICAgICRwYXltZW50SW50ZW50UGFyYW1zWydyZWNlaXB0X2VtYWlsJ10gPSAkYm9va2luZ19pbnRlbnRbJ2NsaWVudF9lbWFpbCddOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBDcmVhdGUgdGhlIFBheW1lbnRJbnRlbnQKICAgICAgICAgICAgJHBheW1lbnRJbnRlbnQgPSAkc3RyaXBlLT5wYXltZW50SW50ZW50cy0+Y3JlYXRlKCRwYXltZW50SW50ZW50UGFyYW1zKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEFkZCB0aGUgUGF5bWVudEludGVudCBJRCB0byB0aGUgQm9va2luZ0ludGVudAogICAgICAgICAgICBCdWRkeUNsaWVudHNcQ29tcG9uZW50c1xCb29raW5nXEJvb2tpbmdJbnRlbnQ6OnVwZGF0ZV9wYXltZW50X2ludGVudF9pZCggJGJvb2tpbmdfaW50ZW50WydJRCddLCAkcGF5bWVudEludGVudC0+aWQgKTsKICAgICAgICAKICAgICAgICAgICAgJG91dHB1dCA9IFsKICAgICAgICAgICAgICAgICdjbGllbnRTZWNyZXQnID0+ICRwYXltZW50SW50ZW50LT5jbGllbnRfc2VjcmV0LAogICAgICAgICAgICBdOwogICAgICAgIAogICAgICAgICAgICBlY2hvIGpzb25fZW5jb2RlKCRvdXRwdXQpOwogICAgICAgIH0gY2F0Y2ggKEVycm9yICRlKSB7CiAgICAgICAgICAgIGh0dHBfcmVzcG9uc2VfY29kZSg1MDApOwogICAgICAgICAgICBlcnJvcl9sb2coanNvbl9lbmNvZGUoWydlcnJvcicgPT4gJGUtPmdldE1lc3NhZ2UoKV0pKTsKICAgICAgICB9CiAgICAgICAgCiAgICB9IGVsc2UgewogICAgICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSBkYXRhIGlzIG5vdCBhdmFpbGFibGUKICAgICAgICBlcnJvcl9sb2coJ09yZGVyIGluZm9ybWF0aW9uIG5vdCBmb3VuZCBpbiBzZXNzaW9uJyk7CiAgICB9CiAgICA/PgoiO3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZG9jQmxvY2siO047czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBtZXRhZGF0YSI7YTowOnt9fQ==";