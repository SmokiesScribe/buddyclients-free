<?php namespace BuddyClients\Config;/**
 * @ignore
 */ class LicenseHandler{public $license;public function __construct(){if(get_option(base64_decode('YmNfbGljZW5zZV9hY3RpdmF0ZWQ='))!==base64_decode('eWVz')){$this->update_license_and_components();update_option(base64_decode('YmNfbGljZW5zZV9hY3RpdmF0ZWQ='),base64_decode('eWVz'));}else{$this->license=get_option(base64_decode('YmNfbGljZW5zZQ=='));}if(!wp_next_scheduled(base64_decode('YmNfbGljZW5zZV9hbmRfY29tcG9uZW50c191cGRhdGU='))){wp_schedule_event(time(),base64_decode('ZGFpbHk='),base64_decode('YmNfbGljZW5zZV9hbmRfY29tcG9uZW50c191cGRhdGU='));}add_action(base64_decode('YmNfbGljZW5zZV9hbmRfY29tcG9uZW50c191cGRhdGU='),array($this,base64_decode('dXBkYXRlX2xpY2Vuc2VfYW5kX2NvbXBvbmVudHM=')));}public function update_license_and_components(){$this->license=$this->get_license();if(!$this->license){return;}if(!empty($this->license->components)){ComponentsHandler::update_components($this->license->components);}update_option(base64_decode('YmNfbGljZW5zZQ=='),$this->license);}private function get_license(){$license_key=bc_get_setting(base64_decode('bGljZW5zZQ=='),base64_decode('bGljZW5zZV9rZXk='));$domain=site_url();$key_url=$this->key_url().base64_decode('JmtleT0=').$license_key.base64_decode('JmRvbWFpbj0=').urlencode($domain);$response_json=wp_remote_get($key_url);if(is_wp_error($response_json)){return;}$body=wp_remote_retrieve_body($response_json);if(empty($body)){return;}$license=json_decode($body);if(is_null($license)||!isset($license->components)){return;}return $license;}private function key_url(){$key_url=$this->server_base().base64_decode('ZW5kcG9pbnRzL2xpY2Vuc2UucGhwP2FwaV9rZXk9').$this->api_key();return $key_url;}private function server_base(){$base=base64_decode('aHR0cHM6Ly9idWRkeWNsaWVudHMuY29tL3dwLWNvbnRlbnQvcGx1Z2lucy9idWRkeWNsaWVudHMtYWRtaW4v');return $base;}private function api_key(){$api_key=base64_decode('dmFsYQ==');return $api_key;}}?>